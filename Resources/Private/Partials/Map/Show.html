<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" xmlns:u="http://typo3.org/ns/Eike/Couch/ViewHelpers" data-namespace-typo3-fluid="true">
<div id="map{contentUid}-wrap">

	<div class="semantic-map" id="map{contentUid}"  data-map-info-layer="#map{contentUid}-info-layer" data-map-wrap="#map{contentUid}-wrap" data-is-map="true" data-poi-list="#map{contentUid}-items" data-semantic-map-initial-center='[{settings.mapConfiguration.longitude}, {settings.mapConfiguration.latitude}]'  data-semantic-map-initial-zoom='{settings.mapConfiguration.zoom}' data-semantic-map-tile-url-template="{settings.tileLayerConfiguration -> u:tileLayerUrl()}">
	</div>
	<div class="map-info-layer" id="map{contentUid}-info-layer"></div>
	<ul id="map{contentUid}-items" class="map-list-items filter-list-items semantic-map-context" style="display:none">
		<f:for each="{couchs}" as="couch">
			<f:if condition="{couch.address.latitude}">
				<li class="filter-list-item list-item{f:if(condition:couch.address.images,then:' with-img', else: ' no-img')} semantic-map__feature semantic-map__geometry semantic-map__property"
						data-semantic-map-geometry-type='Point'
						data-semantic-map-geometry-coordinates="[{couch.address.longitude},{couch.address.latitude}]"
						data-semantic-map-property-key='popup'>
					<f:render partial="List/MapItem" arguments="{address:couch.address}" />
				</li>
			</f:if>
		</f:for>
	</ul>
</div>
